{
  "meta": {
    "name": "Playwright 리포트 배포 프롬프트",
    "version": "1.0",
    "purpose": "Playwright HTML 리포트를 Vercel에 배포하기 위한 가이드",
    "created_at": "2025-12-21",
    "related_files": [
      "playwright-report-analysis-prompt.json"
    ]
  },

  "deployment_info": {
    "platform": "Vercel",
    "source_directory": "playwright-report",
    "project_name_pattern": "playwright-report-{identifier}",
    "url_pattern": "https://playwright-report-{identifier}.vercel.app/",
    "existing_deployments": {
      "azure": "https://playwright-report-azure.vercel.app/"
    }
  },

  "prerequisites": {
    "vercel_cli": {
      "install": "npm i -g vercel",
      "description": "Vercel CLI 전역 설치"
    },
    "vercel_auth": {
      "command": "vercel login",
      "description": "Vercel 계정 로그인 (브라우저 인증)"
    },
    "report_generated": {
      "command": "npx playwright test",
      "description": "Playwright 테스트 실행하여 리포트 생성",
      "output_directory": "playwright-report/"
    }
  },

  "deploy_workflow": {
    "description": "Playwright HTML 리포트 배포 워크플로우",
    "steps": [
      {
        "step": 1,
        "name": "리포트 디렉토리 확인",
        "command": "ls -la playwright-report/",
        "expected": "index.html 및 data/ 폴더 존재 확인"
      },
      {
        "step": 2,
        "name": "Vercel 배포 실행",
        "command": "vercel playwright-report --yes",
        "description": "프로젝트 설정 없이 바로 배포 (기본 설정 사용)",
        "options": {
          "--yes": "모든 프롬프트에 자동으로 yes 응답",
          "--prod": "프로덕션 배포 (선택사항)"
        }
      },
      {
        "step": 3,
        "name": "배포 URL 확인",
        "description": "배포 완료 후 출력되는 URL 확인",
        "output_example": "https://playwright-report-xxxxx.vercel.app"
      },
      {
        "step": 4,
        "name": "리포트 접속 테스트",
        "description": "브라우저에서 배포된 URL 접속하여 리포트 확인"
      }
    ]
  },

  "commands": {
    "deploy_default": {
      "command": "vercel playwright-report --yes",
      "description": "기본 배포 (자동 생성 URL)"
    },
    "deploy_production": {
      "command": "vercel playwright-report --prod --yes",
      "description": "프로덕션 배포"
    },
    "deploy_with_name": {
      "command": "vercel playwright-report --name playwright-report-{name} --yes",
      "description": "지정된 이름으로 배포",
      "example": "vercel playwright-report --name playwright-report-feature-auth --yes"
    },
    "redeploy": {
      "command": "vercel playwright-report --prod --yes --force",
      "description": "기존 배포 덮어쓰기"
    },
    "check_deployments": {
      "command": "vercel ls",
      "description": "모든 배포 목록 확인"
    },
    "remove_deployment": {
      "command": "vercel rm {deployment-url}",
      "description": "특정 배포 삭제"
    }
  },

  "ai_prompt": {
    "system": "당신은 DevOps 전문가입니다. Playwright 테스트 리포트를 Vercel에 정적 사이트로 배포합니다.",
    "user_template": "playwright-report 폴더를 Vercel에 배포해주세요.\n\n## 배포 요구사항\n- 배포 디렉토리: playwright-report/\n- 플랫폼: Vercel\n- 프로젝트 이름: {project_name} (선택)\n\n## 배포 참조 파일\nsrc/tests/e2e/playwright-report-deploy-prompt.json",
    "output_format": {
      "deployment_url": "string",
      "deployment_id": "string",
      "status": "success|failed",
      "deployed_at": "datetime"
    }
  },

  "quick_prompts": {
    "deploy": "playwright-report 폴더를 Vercel에 배포해줘. 배포 프롬프트: src/tests/e2e/playwright-report-deploy-prompt.json",
    "deploy_with_name": "playwright-report를 {name} 이름으로 Vercel에 배포해줘",
    "check_status": "현재 Vercel 배포 상태를 확인해줘",
    "full_workflow": "Playwright 테스트 실행 후 리포트를 Vercel에 배포해줘"
  },

  "full_workflow": {
    "description": "테스트 실행부터 배포까지 전체 워크플로우",
    "steps": [
      {
        "step": 1,
        "name": "Playwright 테스트 실행",
        "command": "npx playwright test --reporter=html",
        "description": "테스트 실행 및 HTML 리포트 생성"
      },
      {
        "step": 2,
        "name": "리포트 배포",
        "command": "vercel playwright-report --yes",
        "description": "생성된 리포트를 Vercel에 배포"
      },
      {
        "step": 3,
        "name": "분석 프롬프트로 리포트 분석",
        "reference": "playwright-report-analysis-prompt.json",
        "description": "배포된 리포트 URL로 분석 수행"
      }
    ]
  },

  "troubleshooting": {
    "vercel_not_found": {
      "error": "command not found: vercel",
      "solution": "npm i -g vercel 실행하여 Vercel CLI 설치"
    },
    "not_logged_in": {
      "error": "Error: Not authenticated",
      "solution": "vercel login 실행하여 인증"
    },
    "directory_not_found": {
      "error": "Error: The specified directory does not exist",
      "solution": "npx playwright test 먼저 실행하여 리포트 생성"
    },
    "build_error": {
      "error": "Error during build",
      "solution": "playwright-report/ 폴더에 index.html이 있는지 확인"
    }
  },

  "integration": {
    "with_analysis": {
      "description": "배포 후 분석 프롬프트와 연동",
      "workflow": [
        "1. 이 프롬프트로 배포 수행",
        "2. 배포 URL 획득",
        "3. playwright-report-analysis-prompt.json으로 리포트 분석"
      ],
      "example_prompt": "배포된 {url} 리포트를 분석해줘. 분석 프롬프트: src/tests/e2e/playwright-report-analysis-prompt.json"
    },
    "ci_cd": {
      "description": "CI/CD 파이프라인 통합",
      "github_actions_example": "npx playwright test && vercel playwright-report --token=$VERCEL_TOKEN --yes"
    }
  },

  "examples": {
    "basic_deploy": {
      "user_input": "playwright-report를 배포해줘",
      "expected_workflow": [
        "1. playwright-report/ 디렉토리 존재 확인",
        "2. vercel playwright-report --yes 실행",
        "3. 배포 URL 반환"
      ],
      "expected_output": {
        "deployment_url": "https://playwright-report-xxxxx.vercel.app",
        "status": "success"
      }
    },
    "named_deploy": {
      "user_input": "playwright-report를 feature-auth 이름으로 배포해줘",
      "command": "vercel playwright-report --name playwright-report-feature-auth --yes",
      "expected_output": {
        "deployment_url": "https://playwright-report-feature-auth.vercel.app",
        "status": "success"
      }
    }
  }
}
