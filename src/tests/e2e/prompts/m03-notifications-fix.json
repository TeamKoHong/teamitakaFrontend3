{
  "workflow_name": "M03 알림 모듈 셀렉터 수정",
  "version": "1.0.0",
  "module_id": "M03",
  "module_name": "알림",
  "file_path": "src/tests/e2e/modules/m03-notifications.json",

  "problem_analysis": {
    "current_issues": [
      "NotificationsList.js에서 클래스명은 있으나 인라인 스타일이 혼재",
      "날짜 그룹(.notification-date-group)과 알림 아이템(.notification-item) 클래스 존재",
      "빈 상태(.empty-wrap, .empty-title)는 NotificationsEmpty.js에서 처리"
    ],
    "actual_class_names": {
      "page_container": ".page.notifications-page",
      "list_container": ".notifications-list-container",
      "date_group": ".notification-date-group",
      "date_label": ".notification-date",
      "item": ".notification-item",
      "title": ".notification-title",
      "body": ".notification-body",
      "empty_wrap": ".empty-wrap",
      "empty_title": ".empty-title",
      "settings_page": ".settings-page",
      "settings_list": ".settings-list",
      "setting_item": ".setting-item",
      "switch": ".switch"
    }
  },

  "selector_mappings": [
    {
      "test_id": "M03-F01-01",
      "description": "알림 목록이 날짜별로 그룹화되어 표시되는가?",
      "changes": [
        {
          "type": "wait_selector",
          "current": ".notifications-page, .notifications-list-container",
          "fixed": ".page.notifications-page, .notifications-list-container"
        },
        {
          "type": "validation",
          "current": ".notification-date-group, .notification-date",
          "fixed": ".notification-date-group, .notification-date"
        }
      ],
      "status": "likely_passing",
      "note": "클래스명이 실제 컴포넌트와 일치함"
    },
    {
      "test_id": "M03-F01-02",
      "description": "알림 내용이 최대 40자로 표시되는가?",
      "changes": [
        {
          "type": "validation",
          "current": ".notification-item, .notification-title",
          "fixed": ".notification-item, .notification-title"
        }
      ],
      "status": "likely_passing",
      "note": "클래스명이 실제 컴포넌트와 일치함"
    },
    {
      "test_id": "M03-F01-03",
      "description": "알림이 없을 때 안내 메시지가 표시되는가?",
      "changes": [
        {
          "type": "validation",
          "current": ".empty-wrap, .empty-title",
          "fixed": ".empty-wrap, .empty-title"
        }
      ],
      "status": "likely_passing",
      "note": "NotificationsPage.scss에 .empty-wrap, .empty-title 정의됨"
    },
    {
      "test_id": "M03-F02-01",
      "description": "앱 알림 수신 설정이 가능한가?",
      "changes": [
        {
          "type": "wait_selector",
          "current": ".settings-page, .settings-list",
          "fixed": ".settings-page, .settings-list"
        },
        {
          "type": "validation",
          "current": ".switch, .setting-item",
          "fixed": ".switch, .setting-item"
        }
      ],
      "status": "likely_passing",
      "note": "NotificationsPage.scss에 .settings-page, .settings-list, .setting-item, .switch 정의됨"
    },
    {
      "test_id": "M03-F02-02",
      "description": "광고 수신 설정이 가능한가?",
      "changes": [
        {
          "type": "click_selector",
          "current": ".setting-item:nth-child(2) .switch input",
          "fixed": ".setting-item:nth-child(2) .switch input, .settings-list .setting-item:nth-of-type(2) input"
        }
      ],
      "status": "needs_verification",
      "note": "nth-child 셀렉터가 정확히 동작하는지 확인 필요"
    }
  ],

  "implementation_steps": [
    {
      "step": 1,
      "action": "M03 테스트 실행하여 현재 상태 확인",
      "command": "npx playwright test --workers=1 --grep 'M03' --reporter=list"
    },
    {
      "step": 2,
      "action": "실패한 테스트에 대해 에러 컨텍스트 확인",
      "command": "cat test-results/*/error-context.md"
    },
    {
      "step": 3,
      "action": "필요시 m03-notifications.json 셀렉터 수정",
      "file": "src/tests/e2e/modules/m03-notifications.json"
    },
    {
      "step": 4,
      "action": "테스트 재실행 및 검증",
      "command": "npx playwright test --workers=1 --grep 'M03' --reporter=list"
    }
  ],

  "expected_results": {
    "before": "M03 테스트 일부 실패 가능성 있음",
    "after": "M03 테스트 대부분 통과 (알림 데이터 유무에 따라 결과 다를 수 있음)"
  },

  "notes": [
    "M03 모듈은 셀렉터가 실제 컴포넌트와 비교적 잘 매칭됨",
    "알림 데이터가 없는 경우 empty 상태 테스트만 통과",
    "알림 데이터가 있는 경우 리스트 테스트 통과",
    "테스트 실행 시 사용자의 알림 데이터 상태에 따라 결과가 달라질 수 있음"
  ]
}
