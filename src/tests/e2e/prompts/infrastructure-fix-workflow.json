{
  "workflow_name": "E2E í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ìˆ˜ì • ì›Œí¬í”Œë¡œìš°",
  "version": "1.0.0",
  "created_at": "2024-12-21",
  "description": "í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ ë™ì  ë°ì´í„°(RECRUITMENT_ID, PROJECT_ID ë“±)ë¥¼ ë¯¸ë¦¬ ì¶”ì¶œí•˜ì—¬ í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì¹˜í™˜í•˜ëŠ” ì¸í”„ë¼ ìˆ˜ì •",

  "problem_analysis": {
    "root_cause": "extractRecruitmentId()ê°€ ë¡œê·¸ì¸ ì„±ê³µ í›„ì—ë§Œ í˜¸ì¶œë¨",
    "affected_tests": ["M10-F01-01", "M10-F01-02", "M10-F01-03", "M06-*"],
    "current_flow": [
      "1. í…ŒìŠ¤íŠ¸ ì‹œì‘",
      "2. user_state í™•ì¸ (US02 = Guest)",
      "3. Guestì´ë©´ ë¡œê·¸ì¸ ìŠ¤í‚µ",
      "4. extractRecruitmentId() í˜¸ì¶œ ì•ˆë¨",
      "5. TEST_DATA.recruitmentId = null",
      "6. {{RECRUITMENT_ID}} ì¹˜í™˜ ì‹¤íŒ¨"
    ]
  },

  "solution_architecture": {
    "approach": "í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì‹œì‘ ì „ ê³µê°œ APIë¥¼ í†µí•´ recruitment ID ì¶”ì¶œ",
    "key_changes": [
      "beforeAll hookì—ì„œ ê³µê°œ ëª¨ì§‘ê³µê³  ID ì¶”ì¶œ",
      "ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ API ì—”ë“œí¬ì¸íŠ¸ í™œìš©",
      "ë˜ëŠ” íŒ€ë§¤ì¹­ í˜ì´ì§€ DOMì—ì„œ ì§ì ‘ ì¶”ì¶œ"
    ]
  },

  "implementation_steps": [
    {
      "step": 1,
      "name": "test-config.ts ìˆ˜ì •",
      "file": "src/tests/e2e/utils/test-config.ts",
      "changes": [
        "ì´ˆê¸°í™” í•¨ìˆ˜ ì¶”ê°€: initializeTestData()",
        "ê³µê°œ APIë¥¼ í†µí•œ recruitment ID ì¶”ì¶œ ë¡œì§",
        "fallback: DOM ê¸°ë°˜ ì¶”ì¶œ"
      ],
      "code_sample": {
        "description": "ì¶”ê°€í•  í•¨ìˆ˜",
        "function_name": "initializeTestData",
        "summary": [
          "íŒ€ë§¤ì¹­ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì²« ë²ˆì§¸ ëª¨ì§‘ê³µê³  ID ì¶”ì¶œ",
          "ë°©ë²• 1: API í˜¸ì¶œ (ì¸ì¦ ë¶ˆí•„ìš”) - /api/recruitments",
          "ë°©ë²• 2: DOMì—ì„œ a[href*='/recruitment/'] ë§í¬ ì¶”ì¶œ",
          "setTestRecruitmentId()ë¡œ ì „ì—­ ìƒíƒœì— ì €ì¥"
        ]
      }
    },
    {
      "step": 2,
      "name": "test-runner.spec.ts ìˆ˜ì •",
      "file": "src/tests/e2e/test-runner.spec.ts",
      "changes": [
        "beforeAll hookì— initializeTestData() í˜¸ì¶œ ì¶”ê°€",
        "í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ ë™ì  ë°ì´í„° ë¯¸ë¦¬ ì¶”ì¶œ"
      ],
      "code_sample": {
        "description": "beforeAll hook ì¶”ê°€/ìˆ˜ì •",
        "location": "íŒŒì¼ ìµœìƒë‹¨, modules ë¡œë“œ í›„"
      }
    },
    {
      "step": 3,
      "name": "test-executor.ts ìˆ˜ì •",
      "file": "src/tests/e2e/utils/test-executor.ts",
      "changes": [
        "Guest í…ŒìŠ¤íŠ¸ì—ì„œë„ recruitment ID ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •",
        "replacePlaceholders() ê°œì„ : ì¹˜í™˜ ì‹¤íŒ¨ ì‹œ ê²½ê³ ë§Œ ì¶œë ¥"
      ]
    }
  ],

  "alternative_solutions": [
    {
      "name": "í•˜ë“œì½”ë”©ëœ í…ŒìŠ¤íŠ¸ ë°ì´í„°",
      "description": "í…ŒìŠ¤íŠ¸ ì „ìš© ëª¨ì§‘ê³µê³  IDë¥¼ ê³ ì •ê°’ìœ¼ë¡œ ì‚¬ìš©",
      "pros": ["ê°„ë‹¨í•œ êµ¬í˜„", "ë¹ ë¥¸ ìˆ˜ì •"],
      "cons": ["í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ ì‹œ ì‹¤íŒ¨", "ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€"],
      "recommended": false
    },
    {
      "name": "í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‹œë“œ",
      "description": "í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ APIë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ìš© ëª¨ì§‘ê³µê³  ìƒì„±",
      "pros": ["í•­ìƒ ìœ íš¨í•œ ë°ì´í„°", "ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸"],
      "cons": ["ë³µì¡í•œ êµ¬í˜„", "API ì¸ì¦ í•„ìš”"],
      "recommended": false
    },
    {
      "name": "ê³µê°œ API í™œìš© (ê¶Œì¥)",
      "description": "ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ ëª¨ì§‘ê³µê³  ëª©ë¡ API ì‚¬ìš©",
      "pros": ["ì¸ì¦ ë¶ˆí•„ìš”", "ì‹¤ì œ ë°ì´í„° ì‚¬ìš©", "ë¹„êµì  ê°„ë‹¨"],
      "cons": ["API ê°€ìš©ì„±ì— ì˜ì¡´"],
      "recommended": true
    }
  ],

  "validation_steps": [
    {
      "step": 1,
      "action": "M10 í…ŒìŠ¤íŠ¸ ì‹¤í–‰",
      "command": "npx playwright test --workers=1 --grep 'M10' --reporter=list"
    },
    {
      "step": 2,
      "action": "ë¡œê·¸ í™•ì¸",
      "expected": "ğŸ“‹ Pre-extracted recruitment ID: [UUID]"
    },
    {
      "step": 3,
      "action": "M10-F01-01 í†µê³¼ í™•ì¸",
      "expected": "{{RECRUITMENT_ID}}ê°€ ì‹¤ì œ UUIDë¡œ ì¹˜í™˜ë¨"
    }
  ],

  "files_to_modify": [
    {
      "path": "src/tests/e2e/utils/test-config.ts",
      "type": "add",
      "description": "initializeTestData() í•¨ìˆ˜ ì¶”ê°€"
    },
    {
      "path": "src/tests/e2e/test-runner.spec.ts",
      "type": "modify",
      "description": "beforeAll hook ì¶”ê°€"
    },
    {
      "path": "src/tests/e2e/utils/test-executor.ts",
      "type": "modify",
      "description": "replacePlaceholders() ê°œì„  (ì„ íƒ)"
    }
  ],

  "expected_results": {
    "before": {
      "M10_tests": "M10-F01-* ì‹¤íŒ¨ (RECRUITMENT_ID ë¯¸ì¹˜í™˜)",
      "error_message": "âš ï¸ RECRUITMENT_ID placeholder found but no recruitment ID available"
    },
    "after": {
      "M10_tests": "M10-F01-* í†µê³¼",
      "log_message": "ğŸ“‹ Pre-extracted recruitment ID: [UUID]"
    }
  },

  "commands": {
    "run_M10_tests": "npx playwright test --workers=1 --grep 'M10' --reporter=list",
    "run_M06_tests": "npx playwright test --workers=1 --grep 'M06' --reporter=list",
    "run_all_tests": "npx playwright test --workers=1 --reporter=list",
    "debug_mode": "DEBUG=true npx playwright test --workers=1 --grep 'M10' --reporter=list"
  },

  "additional_considerations": {
    "api_authentication": {
      "description": "API ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ ê²½ìš°",
      "note": "/api/recruitments ì—”ë“œí¬ì¸íŠ¸ê°€ ê³µê°œì¸ ê²½ìš° ìœ„ ë°©ë²•ìœ¼ë¡œ ì¶©ë¶„, ì¸ì¦ì´ í•„ìš”í•œ ê²½ìš° íŒ€ë§¤ì¹­ í˜ì´ì§€ DOM ì¶”ì¶œ ë°©ë²• ì‚¬ìš©"
    },
    "no_recruitments": {
      "description": "ëª¨ì§‘ê³µê³ ê°€ ì—†ëŠ” ê²½ìš°",
      "solutions": [
        "í…ŒìŠ¤íŠ¸ë¥¼ skip ì²˜ë¦¬í•˜ëŠ” ë¡œì§ ì¶”ê°€ ê¶Œì¥",
        "ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì „ ë”ë¯¸ ëª¨ì§‘ê³µê³  ìƒì„± API í˜¸ì¶œ"
      ]
    },
    "environment_urls": {
      "description": "í™˜ê²½ë³„ API URL",
      "note": "REACT_APP_API_BASE_URL í™˜ê²½ë³€ìˆ˜ í™œìš©í•˜ì—¬ ë¡œì»¬/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ í™˜ê²½ êµ¬ë¶„"
    }
  },

  "current_status": {
    "implementation": "ì™„ë£Œ",
    "M10_results": {
      "passed": 6,
      "skipped": 1,
      "pass_rate": "85.7%"
    },
    "note": "ì´ ì¸í”„ë¼ ìˆ˜ì •ì€ ì´ë¯¸ ì ìš©ë˜ì–´ M10 í…ŒìŠ¤íŠ¸ê°€ ì •ìƒ ë™ì‘í•¨"
  }
}
